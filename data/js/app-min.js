let itId=NaN;function toggleDrawer(){let e=this;if(e.classList.contains("active"))e.classList.remove("active"),destroy(e.id);else{let t=document.querySelector(".btn-group > .active");t&&(t.classList.remove("active"),destroy(t.id)),e.classList.add("active"),create(e.id)}}function create(e){let t,n=document.querySelector(".presentation"),s=mkDiv({class:"container",id:`${e}-container`,style:"opacity: 0;"});switch(e){case"social":t=createButtons(1);break;case"news":t=createButtons(2);break;case"junk":t=createButtons(3);break}n.appendChild(nestElem([s,t])),$(".container").fadeIn({duration:1e3,start:function(){$(this).css("transition","opacity 1000ms ease")},complete:function(){$(this).css("opacity","1")}})}function createButtons(e){let t=mkDiv({class:"card-content"}),n=[...drawers];for(let s of n[e-1].buttons)nestElem([t,mkDiv({class:"md-button ps-2 pe-2 mt-2"+(s.hidden?" dnone":""),url:s.url,id:s.id?s.id:"",listeners:[{type:"click",execute:clkBtn}]}),{1:mkElem({elemType:"img",class:"img-thumbnail",src:s.icon?`./data/icons/${s.icon}`:"",alt:s.icon?s.icon:""}),2:mkElem({elemType:"span",inner:s.text.main})}]);return nestElem([mkDiv({class:"card shadow drawer"}),t])}function destroy(e){$(`#${e}-container`).fadeOut({duration:1e3,start:function(){$(this).css("z-index","1"),$(this).css("transition","")},complete:function(){$(this).css("opacity","0"),$(this).remove()}})}async function clkBtn(){let e=this.getAttribute("url");if(e)e.includes("http")?window.open(e,"_blank"):window.open(e,"_self");else if(this.id)switch(this.id){case"joke":document.querySelector(".md-modal").classList.remove("dnone");let e=await makeMeLaugh(),t=document.querySelector(".card-body");document.querySelector("#loading").remove(),e?t.append(e.setup,e.punchline):t.append(mkP({inner:"Sorry, Something went wrong!"}));break}}async function makeMeLaugh(){document.querySelector(".card-body").append(mkP({id:"loading",inner:"Loading..."}));let e=await fetch("https://official-joke-api.appspot.com/random_joke");if(!e.ok)return null;let t=await e.json();return{setup:nestElem([mkP({inner:t.setup,id:"setup"}),{1:mkElem({elemType:"br"}),2:mkElem({elemType:"img",src:"./data/icons/thinker.png"})}]),punchline:nestElem([mkP({class:"dnone",id:"answer",inner:t.punchline}),{1:mkElem({elemType:"br"}),2:mkElem({elemType:"img",src:"./data/icons/laughing2.png"})}])}}function closeModal(){document.querySelector(".md-modal").classList.add("dnone"),document.querySelector("#back").classList.add("dnone"),document.querySelector("#close").classList.add("dnone"),document.querySelector("#ans").classList.remove("dnone"),document.querySelector(".card-body").innerHTML=""}function showAnswer(){document.querySelector("#setup").classList.add("dnone"),document.querySelector("#answer").classList.remove("dnone"),document.querySelector("#back").classList.remove("dnone"),document.querySelector("#close").classList.remove("dnone"),document.querySelector("#ans").classList.add("dnone")}function goBack(){document.querySelector("#setup").classList.remove("dnone"),document.querySelector("#answer").classList.add("dnone"),document.querySelector("#back").classList.add("dnone"),document.querySelector("#close").classList.add("dnone"),document.querySelector("#ans").classList.remove("dnone")}